(this["webpackJsonpinstant-widgets-editor"]=this["webpackJsonpinstant-widgets-editor"]||[]).push([[0],{146:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(29),r={AT:["de"],BY:["be","ru"],CH:["de","en","fr","it"],GB:["en"],IE:["en"],NL:["nl"],PL:["pl"]},i=function(){return r[Object(n.a)().toUpperCase()]}},150:function(e,t,a){"use strict";(function(e){var n=a(138),r=a(139),i=a(140),o=a(276),s=a(279),c=a(0),l=a.n(c),u=(a(517),a(63)),m=a.n(u),d=a(114),p=a(94),g=a(281),f=a(28),h=a(186),b=a(92),v=a.n(b),E=a(274),w=a(187),y=a(275),O=a(29),S=a(93),_=a(532),I=function(t){Object(s.a)(c,t);var a=Object(o.a)(c);function c(e){var t;return Object(n.a)(this,c),(t=a.call(this,e)).state={arrayOfItems:[],isSortable:!1,isChanged:!1},t.creds=localStorage.getItem("instant-widgets-creds"),t.user=t.creds.split(":")[0],t.token=t.creds.split(":")[1],t.repoName=JSON.parse(localStorage.getItem("instant-widgets-current-repo"))[0].name,t.sha="",t.requester=new E.a({env:e.env,user:t.user,token:t.token,repoName:t.repoName}),window.carousels||(window.carousels=new Map),window.carousels.set(e.env.toLowerCase(),Object(i.a)(t)),t}return Object(r.a)(c,[{key:"componentDidMount",value:function(){var e=this,t=this,a={url:"https://api.github.com/repos/LibertyGlobal/".concat(this.repoName,"/contents/").concat(this.props.env.toUpperCase(),".json"),auth:{user:this.user,pass:this.token}};m()(a,(function(e,a,r){if(e||200!==a.statusCode)console.error("ERROR");else{var i=JSON.parse(r),o=i.download_url;t.sha=i.sha,n(o)}}));var n=function(e){var a={url:e};m()(a,(function(e,a,n){if(e||200!==a.statusCode)console.error("ERROR");else{var r=JSON.parse(n);t.drawItems(r)}}))};window.setInterval((function(){var a=localStorage.getItem("instant-widgets-storage-"+Object(O.a)()+"-"+t.props.env+"-old")!==localStorage.getItem("instant-widgets-storage-"+Object(O.a)()+"-"+t.props.env+"-new");e.setState({arrayOfItems:e.state.arrayOfItems,isSortable:e.state.isSortable,isChanged:a})}),1e3)}},{key:"drawItems",value:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=[],i=this,o=function(){localStorage.setItem("instant-widgets-storage-"+Object(O.a)()+"-"+i.props.env+"-new",JSON.stringify(r)),a||localStorage.setItem("instant-widgets-storage-"+Object(O.a)()+"-"+i.props.env+"-old",JSON.stringify(r)),r.forEach((function(e){n.push(l.a.createElement(h.a,{key:v.a.generate(),data:e,env:i.props.env,id:e.iw_id}))})),i.setState({arrayOfItems:n,isSortable:i.state.isSortable,isChanged:i.state.isChanged})},s=function(t){r.push(t),r.length===e.length&&(r=r.sort((function(e,t){return Number(e.iw_index)>Number(t.iw_index)?1:Number(t.iw_index)>Number(e.iw_index)?-1:0})),o())};e.length||o(),e.forEach((function(e,a){if(e.iw_id=v.a.generate(),e.iw_index||(e.iw_index=a),e.imageUrl||(e.iw_fullImg=""),e.imageUrl&&void 0===e.iw_fullImg){var n={url:"https://api.github.com/repos/LibertyGlobal/".concat(t.repoName,"/contents/images/").concat(t.props.env.toUpperCase(),"/").concat(e.imageUrl),auth:{user:t.user,pass:t.token}};m()(n,(function(t,a,n){if(t||200!==a.statusCode)console.error("ERROR"),e.iw_fullImg="",s(e);else{var r=JSON.parse(n).download_url;e.iw_fullImg=r,s(e)}}))}else s(e)}))}},{key:"sendImage",value:function(e,t){var a=this,n='{"message": "Upload image", "content": "'+t+'" }',r={url:"https://api.github.com/repos/LibertyGlobal/".concat(this.repoName,"/contents/images/").concat(this.props.env.toUpperCase(),"/").concat(e),method:"PUT",body:n,auth:{user:this.user,pass:this.token}};this.requester.addToQueue(r,(function(e,t,n){console.log(JSON.parse(n)),e?(console.error(e),a.props.notify(e,"error")):(console.log(JSON.parse(n)),a.props.notify("Image was sent to Github","success"))}))}},{key:"sendJSON",value:function(e){var t=this,a='{"message": "Update JSON", "content": "'+e+'", "sha": "'+this.sha+'" }',n={url:"https://api.github.com/repos/LibertyGlobal/".concat(this.repoName,"/contents/").concat(this.props.env.toUpperCase(),".json"),method:"PUT",body:a,auth:{user:this.user,pass:this.token}};this.requester.addToQueue(n,(function(e,a,n){e||200!==a.statusCode?(console.error(e),t.props.notify(e,"error")):(t.sha=JSON.parse(n).content.sha,t.props.notify("JSON was sent to Github","success"))}))}},{key:"handleRevert",value:function(){var e=this;Object(S.a)("Are you sure to revert all changes?",(function(){e.drawItems(JSON.parse(localStorage.getItem("instant-widgets-storage-"+Object(O.a)()+"-"+e.props.env+"-old")))}))}},{key:"handlePublish",value:function(){var t=this;Object(S.a)("Are you sure to publish?",(function(){var a=JSON.parse(localStorage.getItem("instant-widgets-storage-"+Object(O.a)()+"-"+t.props.env+"-new"));localStorage.setItem("instant-widgets-storage-"+Object(O.a)()+"-"+t.props.env+"-old",JSON.stringify(a));var n=a.map((function(e){return e.iw_fullImg.startsWith("data:image")&&t.sendImage(e.imageUrl,e.iw_fullImg.split("data:image/png;base64,")[1]),Object.keys(e).forEach((function(t){t.startsWith("iw_")&&delete e[t]})),e.fromDate=Object(w.a)(new Date(e.fromDate).getTime()),e.tillDate=Object(w.a)(new Date(e.tillDate).getTime()),e}));t.sendJSON(e.from(_(n,null,2),"ascii").toString("base64"))}))}},{key:"addWidget",value:function(e){var t="instant-widgets-storage-"+Object(O.a)()+"-"+this.props.env+"-new",a=JSON.parse(localStorage.getItem(t));e.iw_index=a.length,a.push(e),localStorage.setItem(t,JSON.stringify(a)),this.drawItems(a,!0)}},{key:"reorder",value:function(){var e=this,t=[];this.state.arrayOfItems.forEach((function(e){var a={};a.id=e.props.id,a.pos=document.getElementById("widget_".concat(a.id)).getBoundingClientRect().x,t.push(a)})),t.sort((function(e,t){return e.pos-t.pos}));var a=[];t.forEach((function(t,n){e.state.arrayOfItems.forEach((function(r){if(t.id===r.props.id){var i=r.props.data;i.iw_index=n,a.push(l.a.createElement(h.a,{key:v.a.generate(),data:i,env:e.props.env,id:i.iw_id}))}}))})),this.setState({arrayOfItems:a,isSortable:this.state.isSortable,isChanged:this.state.isChanged});var n="instant-widgets-storage-"+Object(O.a)()+"-"+this.props.env+"-new",r=JSON.parse(localStorage.getItem(n)),i=[];t.forEach((function(e){r.forEach((function(t){e.id===t.iw_id&&i.push(t)}))})),localStorage.setItem(n,JSON.stringify(i))}},{key:"handleOrderToggle",value:function(){this.setState({arrayOfItems:this.state.arrayOfItems,isSortable:!this.state.isSortable,isChanged:this.state.isChanged})}},{key:"removeWidget",value:function(e){var t="instant-widgets-storage-"+Object(O.a)()+"-"+this.props.env+"-new",a=JSON.parse(localStorage.getItem(t)).filter((function(t){return t.iw_id!==e}));localStorage.setItem(t,JSON.stringify(a)),this.drawItems(a,!0)}},{key:"rerender",value:function(){var e="instant-widgets-storage-"+Object(O.a)()+"-"+this.props.env+"-new",t=JSON.parse(localStorage.getItem(e));this.drawItems(t,!0)}},{key:"render",value:function(){var e=l.a.createElement(g.a,null,l.a.createElement(p.a,{variant:"contained",className:"btn btn-success",onClick:this.handlePublish.bind(this)},Object(f.a)("carousel_main_controls_btn_publish")),l.a.createElement(p.a,{variant:"contained",className:"btn btn-alert",onClick:this.handleRevert.bind(this)},Object(f.a)("carousel_main_controls_btn_revert")));return l.a.createElement("div",{className:"carousel-container ".concat(this.state.isSortable?"sortable js-sortable":"")},l.a.createElement("div",{className:"carousel-main-controls-container"},l.a.createElement(d.a,{variant:"h5",component:"h2",gutterBottom:!0},"".concat(this.props.env.toUpperCase()," ").concat(Object(f.a)("carousel_heading"))),l.a.createElement(p.a,{variant:"contained",className:"btn btn-neutral ".concat(this.state.isSortable?"toggled":""),onClick:this.handleOrderToggle.bind(this)},Object(f.a)("carousel_main_controls_btn_reorder")),l.a.createElement(p.a,{variant:"contained",className:"btn btn-neutral",onClick:this.addWidget.bind(this,Object(y.a)())},Object(f.a)("carousel_main_controls_btn_add")),this.state.isChanged?e:""),l.a.createElement("div",{className:"carousel-items-container"},this.state.arrayOfItems))}}]),c}(c.Component);t.a=I}).call(this,a(13).Buffer)},186:function(e,t,a){"use strict";a.d(t,"a",(function(){return q}));var n=a(183),r=a.n(n),i=a(278),o=a(270),s=a(38),c=a(0),l=a.n(c),u=a(584),m=(a(519),a(28)),d=a(146),p=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=t.split(".");return n.forEach((function(t){e&&(e=e[t])})),e||a},g=function e(t,a,n){return"string"==typeof a?e(t,a.split("."),n):1===a.length&&void 0!==n?t[a[0]]=n:0===a.length?t:e(t[a[0]],a.slice(1),n)},f=a(94),h=a(114),b=a(541),v=a(591),E=a(585),w=a(597),y=a(579),O=a(588),S=a(184),_=a(33),I=a(587),N=a(277),j=a(92),k=a.n(j),C=a(594),x=a(590),D=a(271),R=a.n(D),J=a(280),L=a(281),T=a(273),U=a.n(T),B=a(29),A=a(93);function P(e){return l.a.createElement(x.a,Object.assign({elevation:6,variant:"filled"},e))}var W={title:{color:"white"},description:{marginTop:"15px",marginBottom:"15px",color:"white"},button:{borderRadius:"20px",backgroundColor:"white",color:"black"},errorPrompt:{position:"absolute",top:0,left:0,zIndex:1301},audienceInputContainer:{minWidth:"160px"}},M=Object(u.a)({bottomSpacing:{marginBottom:"30px"}});function q(e){var t=M(e),a=e.data,n=l.a.useState(a),c=Object(s.a)(n,2),u=c[0],j=c[1],x=Object(d.a)()[0],D=function(e){var t=[],a=e.split(".")[0],n=p(u,e),r=e.includes("description")?120:22;return Object.keys(n).forEach((function(i){t.push(l.a.createElement(E.a,{container:!0,spacing:1,alignItems:"flex-end",key:a+"-key-"+i},l.a.createElement(E.a,{item:!0},i.toUpperCase()),l.a.createElement(E.a,{item:!0},l.a.createElement(v.a,{id:a+"-field-"+i,defaultValue:n[i],inputProps:{"data-path":e+"."+i,maxLength:r}}))))})),t},T=function(e){13===e.keyCode&&e.ctrlKey&&Oe()},q=l.a.useState(!1),G=Object(s.a)(q,2),z=G[0],F=G[1],K=function(){F(!1),document.removeEventListener("keydown",T),window.carousels.get(re.toLowerCase()).rerender()},H=l.a.useState(!1),Q=Object(s.a)(H,2),Y=Q[0],V=Q[1],$=function(){V(!1)},X=l.a.useState(u.audience),Z=Object(s.a)(X,2),ee=Z[0],te=Z[1],ae=l.a.useState(e.env.toUpperCase()),ne=Object(s.a)(ae,2),re=ne[0],ie=ne[1],oe=l.a.useState(new Date(u.fromDate)),se=Object(s.a)(oe,2),ce=se[0],le=se[1],ue=l.a.useState(new Date(u.tillDate)),me=Object(s.a)(ue,2),de=me[0],pe=me[1],ge=function(e){return new Promise((function(t,a){var n=new FileReader;n.readAsDataURL(e),n.onload=function(){return t(n.result)},n.onerror=function(e){return a(e)}}))};function fe(){return(fe=Object(o.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=document.getElementById("image-input").files[0])){e.next=9;break}return a=Object.assign({},u),e.next=5,ge(t);case 5:a.iw_fullImg=e.sent,a.imageUrl=k.a.generate()+".png",j(a),he(a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var he=function(t){var a=JSON.parse(localStorage.getItem("instant-widgets-storage-"+Object(B.a)()+"-"+e.env+"-new")).filter((function(e){return e.iw_id!==t.iw_id}));localStorage.setItem("instant-widgets-storage-"+Object(B.a)()+"-"+e.env+"-new",JSON.stringify([t].concat(Object(i.a)(a))))},be=l.a.useState(""),ve=Object(s.a)(be,2),Ee=ve[0],we=ve[1],ye=function(){we("")},Oe=function(){var e="",t=Array.from(document.querySelectorAll("input")).filter((function(e){return!e.value.trim().length&&"file"!==e.type})),a=function(){if(t.length?e="All fields must be filled.":r?i||(e="Allowed image dimensions: Minimum size: 750 x 784, Maximum size: 1500 x 1568."):e="Image should be in PNG format.",e)we(e);else{var a=Object.assign({},u);document.getElementById("image-input").classList.contains("js-image-removed")&&(a.imageUrl="",a.iw_fullImg=""),document.querySelectorAll("[data-path]").forEach((function(e){var t=e.getAttribute("data-path"),n=e.value;g(a,t,n)})),j(a),function(){fe.apply(this,arguments)}(),he(a),K()}},n=document.getElementById("image-input"),r=!0,i=!0;if(n.value){r=n.value.endsWith(".png");var o=new Image;o.src=window.URL.createObjectURL(n.files[0]),o.onload=function(){(o.width<750||o.width>1500||o.height<784||o.height>1568)&&(i=!1),a()}}else a()};return l.a.createElement(R.a,{axis:"x",handle:".js-sortable .js-widget-item-container",defaultPosition:{x:0,y:0},position:{x:0,y:0},grid:[25,25],scale:1,onStop:function(){window.carousels.get(re.toLowerCase()).reorder()}},l.a.createElement(L.a,{className:"widget-item-wrapper"},l.a.createElement(J.a,{elevation:3,style:{backgroundImage:"url('".concat(u.iw_fullImg?u.iw_fullImg:"","')")},className:"widget-item-container js-widget-item-container",id:"widget_"+e.id},l.a.createElement(h.a,{gutterBottom:!0,variant:"h5",component:"h2",style:W.title},u.title[x]),l.a.createElement(h.a,{gutterBottom:!0,variant:"body2",component:"p",style:W.description},u.description[x]),l.a.createElement(f.a,{size:"small",color:"primary",variant:"contained",target:"_blank",href:u.button.url,style:W.button},u.button.title[x]),l.a.createElement(f.a,{onClick:function(){V(!0)},size:"small",color:"default",variant:"contained",className:"widget-item-controls-btn widget-item-copy-btn"},Object(m.a)("widget_controls_btn_copy")),l.a.createElement(f.a,{onClick:function(){F(!0),document.addEventListener("keydown",T)},size:"small",color:"default",variant:"contained",className:"widget-item-controls-btn widget-item-edit-btn"},Object(m.a)("widget_controls_btn_edit")),l.a.createElement(b.a,{open:z,onClose:K,className:"modal-handler"},l.a.createElement("div",{className:"modal-container"},l.a.createElement("form",{autoComplete:"off"},l.a.createElement(E.a,{container:!0,spacing:1,alignItems:"flex-end",justify:"space-around",className:"".concat(t.bottomSpacing)},l.a.createElement(E.a,{item:!0},l.a.createElement(h.a,{variant:"h5",component:"h2",className:"block-title"},"Title"),D("title")),l.a.createElement(E.a,{item:!0},l.a.createElement(h.a,{variant:"h5",component:"h2",className:"block-title"},"Description"),D("description"))),l.a.createElement(E.a,{container:!0,spacing:1,alignItems:"flex-end",justify:"space-around"},l.a.createElement(E.a,{item:!0},l.a.createElement(h.a,{variant:"h5",component:"h2",className:"block-title"},"Image"))),l.a.createElement(E.a,{container:!0,spacing:1,alignItems:"flex-end",justify:"space-around",className:"".concat(t.bottomSpacing)},l.a.createElement(E.a,{item:!0},l.a.createElement("input",{type:"file",id:"image-input",className:"input-file"})),l.a.createElement(E.a,{item:!0},l.a.createElement(f.a,{variant:"contained",color:"default",component:"span",onClick:function(){Object(A.a)("Are you sure to remove the image?",(function(){var e=document.getElementById("image-input");e.value="",e.classList.add("js-image-removed")}))}},"Remove image"))),l.a.createElement(E.a,{container:!0,spacing:1,alignItems:"flex-start",justify:"space-around",className:"".concat(t.bottomSpacing)},l.a.createElement(E.a,{item:!0},l.a.createElement(h.a,{variant:"h5",component:"h2"},"More Button"),l.a.createElement(v.a,{id:"btn-link-field",label:"Link for button",defaultValue:u.button.url,inputProps:{"data-path":"button.url"}})),l.a.createElement(E.a,{item:!0},D("button.title"))),l.a.createElement(E.a,{container:!0,spacing:1,alignItems:"flex-end",justify:"space-around",className:"".concat(t.bottomSpacing)},l.a.createElement(E.a,{item:!0},l.a.createElement(h.a,{variant:"h5",component:"h2",className:"block-title"},"Audience")),l.a.createElement(E.a,{item:!0},l.a.createElement(y.a,{style:W.audienceInputContainer},l.a.createElement(O.a,{id:"audience-select",value:ee,onChange:function(e){te(e.target.value)},inputProps:{"data-path":"audience"}},l.a.createElement(w.a,{value:"MOBILE"},"MOBILE"),l.a.createElement(w.a,{value:"BROADBAND"},"BROADBAND"),l.a.createElement(w.a,{value:"ALL"},"ALL"))))),l.a.createElement(E.a,{container:!0,spacing:1,alignItems:"flex-end",justify:"space-around"},l.a.createElement(E.a,{item:!0},l.a.createElement(h.a,{variant:"h5",component:"h2",className:"block-title"},"Availability"))),l.a.createElement(E.a,{container:!0,spacing:1,alignItems:"flex-end",justify:"space-around",className:"".concat(t.bottomSpacing)},l.a.createElement(E.a,{item:!0},l.a.createElement(_.a,{utils:S.a},l.a.createElement(I.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-from",label:"From (mm/dd/yyyy)",value:ce,onChange:function(e){le(e)},KeyboardButtonProps:{"aria-label":"change date"},inputProps:{"data-path":"fromDate"}}))),l.a.createElement(E.a,{item:!0},l.a.createElement(_.a,{utils:S.a},l.a.createElement(I.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-till",label:"Till (mm/dd/yyyy)",value:de,onChange:function(e){pe(e)},KeyboardButtonProps:{"aria-label":"change date"},inputProps:{"data-path":"tillDate"}})))),l.a.createElement(E.a,{container:!0,spacing:1,alignItems:"flex-end",justify:"space-around"},l.a.createElement(E.a,{item:!0},l.a.createElement(f.a,{variant:"contained",color:"secondary",component:"span",onClick:function(){Object(A.a)("Are you sure to delete this Widget?",(function(){window.carousels.get(re.toLowerCase()).removeWidget(u.iw_id),K()}))},startIcon:l.a.createElement(U.a,null)},"Remove Widget")),l.a.createElement(E.a,{item:!0},l.a.createElement(f.a,{variant:"contained",color:"default",component:"span",onClick:K},"Cancel"),l.a.createElement(f.a,{variant:"contained",color:"primary",component:"span",onClick:Oe,className:"save-btn"},"Save")))),l.a.createElement(C.a,{open:!!Ee.length,autoHideDuration:3e3,onClose:ye},l.a.createElement(P,{onClose:ye,severity:"error"},Ee)))),l.a.createElement(b.a,{open:Y,onClose:$,className:"modal-handler"},l.a.createElement("div",{className:"modal-container"},l.a.createElement("form",{autoComplete:"off"},l.a.createElement(h.a,{variant:"h5",component:"h2",className:"block-title"},"Select target environment"),l.a.createElement(y.a,{className:"copy-env-dropdown"},l.a.createElement(O.a,{id:"target-env-select",value:re,onChange:function(e){ie(e.target.value)}},l.a.createElement(w.a,{value:"JIT"},"JIT"),l.a.createElement(w.a,{value:"UAT"},"UAT"),l.a.createElement(w.a,{value:"PROD"},"PROD"))),l.a.createElement(E.a,{container:!0,spacing:1,alignItems:"flex-end",className:"copy-btns-container"},l.a.createElement(E.a,{item:!0},l.a.createElement(f.a,{variant:"contained",color:"default",component:"span",onClick:$},"Cancel")),l.a.createElement(E.a,{item:!0},l.a.createElement(f.a,{variant:"contained",color:"primary",component:"span",onClick:function(){window.carousels.get(re.toLowerCase()).addWidget(u),$()}},"COPY WIDGET"))))))),l.a.createElement(L.a,{className:"widget-item-bottom-block"},l.a.createElement(h.a,{variant:"body2",color:"textSecondary",component:"p"},u.audience),l.a.createElement(h.a,{variant:"body2",color:"textSecondary",component:"p"},Object(N.a)(new Date(u.fromDate),"dd/MM/yyyy")+" - "+Object(N.a)(new Date(u.tillDate),"dd/MM/yyyy")))))}},187:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e){var t=Number(e);return function(e){var t=new Date(e);return new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()))}(new Date(t)).toISOString().split(".")[0]}},274:function(e,t,a){"use strict";var n=a(138),r=a(139),i=a(63),o=a.n(i),s=function(){function e(t){Object(n.a)(this,e),this.queue=[],this.interval=2e3,this.timer="",this.tagData=t}return Object(r.a)(e,[{key:"sendTag",value:function(){var e='{"tag_name": "'+this.tagData.env+"-"+(new Date).getTime()+'"}',t={url:"https://api.github.com/repos/LibertyGlobal/".concat(this.tagData.repoName,"/releases"),method:"POST",body:e,auth:{user:this.tagData.user,pass:this.tagData.token}};o()(t,(function(e,t,a){e||200!==t.statusCode?console.error(e):console.log(a)}))}},{key:"sendRequest",value:function(){if(this.queue.length){var e=this.queue.shift(),t=e.opt,a=e.clb;o()(t,a)}else this.sendTag(),clearInterval(this.timer)}},{key:"start",value:function(){if(!this.timer){var e=this;this.timer=setInterval((function(){e.sendRequest()}),this.interval)}}},{key:"addToQueue",value:function(e,t){var a={opt:e,clb:t};this.queue.push(a),this.start()}}]),e}();t.a=s},275:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(146),r={title:{},description:{},fromDate:"2020-01-01T00:00:00",tillDate:"2021-01-01T00:00:00",audience:"ALL",imageUrl:"",button:{url:"https://www.libertyglobal.com/",title:{}}},i=function(){return Object(n.a)().forEach((function(e){r.title[e]="Title text (".concat(e,")"),r.description[e]="Description text (".concat(e,")"),r.button.title[e]="Button text (".concat(e,")")})),r}},28:function(e,t,a){"use strict";var n={EN:{login_heading:"Login with your GitHub credentials",login_user_name:"User Name",login_token:"Personal Access Token",login_instructions_link:"Read Me",repos_heading:"Pick Repository",repos_btn:"Start Editing",carousel_heading:"widgets",carousel_main_controls_btn_reorder:"Change order",carousel_main_controls_btn_add:"Add widget",carousel_main_controls_btn_publish:"Publish",carousel_main_controls_btn_revert:"Revert all changes",widget_controls_btn_copy:"Copy",widget_controls_btn_edit:"Edit"}};t.a=function(e){return n.EN[e]}},29:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(){return JSON.parse(localStorage.getItem("instant-widgets-current-repo"))[0].name.split("capp-instantWidgets-")[1].toLowerCase()}},299:function(e,t,a){e.exports=a(533)},304:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},321:function(e,t){},323:function(e,t){},353:function(e,t){},354:function(e,t){},398:function(e,t){},400:function(e,t){},423:function(e,t){},517:function(e,t,a){},519:function(e,t,a){},529:function(e,t,a){},533:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(14),o=a.n(i),s=(a(304),a(305),a(38)),c=(a(306),a(63)),l=a.n(c),u=a(94),m=a(591),d=a(542),p=a(538),g=a(536),f=a(535),h=a(581),b=a(28),v=function(e){return r.a.createElement("div",null,r.a.createElement(d.a,{open:!0,"aria-labelledby":"form-dialog-title"},r.a.createElement(f.a,{id:"form-dialog-title"},Object(b.a)("login_heading")),r.a.createElement(g.a,null,r.a.createElement(m.a,{autoFocus:!0,margin:"dense",id:"name",label:Object(b.a)("login_user_name"),type:"text",fullWidth:!0}),r.a.createElement(m.a,{margin:"dense",id:"pass",label:Object(b.a)("login_token"),type:"password",fullWidth:!0}),r.a.createElement(p.a,null,r.a.createElement(u.a,{onClick:function(){var t={url:"https://api.github.com/user/repos?per_page=1000",auth:{user:document.getElementById("name").value,pass:document.getElementById("pass").value}};l()(t,(function(t,a,n){if(t||200!==a.statusCode)console.error("ERROR"),e.notify("Incorrect credentials","error");else{var r=JSON.parse(n).filter((function(e){return e.name.startsWith("capp-instantWidgets-")}));localStorage.setItem("instant-widgets-repos",JSON.stringify(r)),localStorage.setItem("instant-widgets-creds",document.getElementById("name").value+":"+document.getElementById("pass").value),e.setScreen("repos"),window.location="/?page=repos"}}))},color:"primary"},"Login")),r.a.createElement(h.a,{target:"_blank",href:"https://github.com/instant-widgets-editor/instant-widgets-editor.github.io/blob/master/README.md#instant-widgets-editor"},Object(b.a)("login_instructions_link")))))},E=a(589),w=a(592),y=a(582),O=a(579),S=function(e){var t=JSON.parse(localStorage.getItem("instant-widgets-repos")),a=r.a.useState(t[0].name),n=Object(s.a)(a,2),i=n[0],o=n[1],c=function(e){var t=e.arrOfRepos;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(y.a,{value:e.name,control:r.a.createElement(E.a,null),label:e.name}))})))};return r.a.createElement("div",null,r.a.createElement(d.a,{open:!0,"aria-labelledby":"form-repos-dialog-title"},r.a.createElement(f.a,{id:"form-repos-dialog-title"},Object(b.a)("repos_heading")),r.a.createElement(g.a,null,r.a.createElement(O.a,{component:"fieldset"},r.a.createElement(w.a,{"aria-label":"repos",name:"repos1",value:i,onChange:function(e){o(e.target.value)}},r.a.createElement(c,{arrOfRepos:t}))),r.a.createElement(p.a,null,r.a.createElement(u.a,{onClick:function(a){var n=t.filter((function(e){return e.name===i}));localStorage.setItem("instant-widgets-current-repo",JSON.stringify(n)),e.setScreen("widgets"),window.location="/?page=widgets"},color:"primary"},Object(b.a)("repos_btn"))))))},_=a(150);function I(e){return r.a.createElement("div",null,r.a.createElement(_.a,{env:"PROD",notify:e.notify}),r.a.createElement(_.a,{env:"UAT",notify:e.notify}),r.a.createElement(_.a,{env:"JIT",notify:e.notify}))}var N=a(185);function j(){var e,t=String(new URLSearchParams(window.location.search).get("page")),a=r.a.useState(t),n=Object(s.a)(a,2),i=n[0],o=n[1],c=Object(N.b)().enqueueSnackbar,l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";c(e,{variant:t})};return r.a.createElement(r.a.Fragment,null,"repos"===(e=i)?r.a.createElement(S,{setScreen:function(e){return o(e)}}):"widgets"===e?r.a.createElement(I,{notify:l}):r.a.createElement(v,{setScreen:function(e){return o(e)},notify:l}))}var k=function(){return r.a.createElement("div",{className:"UI"},r.a.createElement(N.a,{maxSnack:3},r.a.createElement(j,null)))};var C=function(){return r.a.createElement("div",{className:"App-Container"},r.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},93:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(0),r=a.n(n),i=a(272),o=(a(528),a(529),a(281)),s=a(94),c=a(542),l=a(538),u=a(536),m=a(539),d=a(535),p=function(e,t){var a={customUI:function(a){var n=a.onClose;return r.a.createElement(o.a,{className:"confirmation-popup"},r.a.createElement(c.a,{open:!0,onClose:n,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(d.a,{id:"alert-dialog-title"},"Confirmation"),r.a.createElement(u.a,null,r.a.createElement(m.a,{id:"alert-dialog-description"},e)),r.a.createElement(l.a,null,r.a.createElement(s.a,{onClick:n,color:"primary"},"Cancel"),r.a.createElement(s.a,{onClick:function(){t(),n()},color:"primary",autoFocus:!0},"OK"))))},childrenElement:function(){return r.a.createElement("div",null)},closeOnEscape:!0,closeOnClickOutside:!0,willUnmount:function(){},afterClose:function(){},onClickOutside:function(){},onKeypressEscape:function(){}};Object(i.confirmAlert)(a)}}},[[299,1,2]]]);
//# sourceMappingURL=main.337f5955.chunk.js.map