{"version":3,"sources":["Data/countriesAndLanguages.js","Utils/getLanguagesForCurrentCountry.js","Components/Carousel/index.js","Utils/getValueByNs.js","Utils/setValueByNs.js","Components/WidgetItem/index.js","Utils/getUTCDate.js","Utils/getDateConventionalString.js","Utils/Requester.js","Data/mockWidgetDataObj.js","Data/translations.js","Utils/getTranslation.js","Utils/getCurrentCountry.js","Components/LoginDialog/index.js","Components/ReposDialog/index.js","Components/Widgets/index.js","Components/UI/index.js","App.js","serviceWorker.js","index.js","Components/ConfirmationPopup/index.js"],"names":["countriesAndLanguages","AT","BY","CH","GB","IE","NL","UK","getLanguagesForCurrentCountry","getCurrentCountry","toUpperCase","beautify","require","Carousel","props","state","arrayOfItems","isSortable","isChanged","creds","localStorage","getItem","user","split","token","repoName","JSON","parse","name","sha","requester","Requester","env","window","carousels","Map","set","toLowerCase","that","this","options","url","auth","request","error","response","body","statusCode","console","responseBody","path","download_url","fetchDataForItems","pathToData","arrayOfItemsData","drawItems","setInterval","areChangesMade","setState","isOldStorageNotToBeFilled","arrayOfWidgetComponents","arrayOfDataObjects","saveAndRender","setItem","stringify","forEach","itemDataObj","push","key","shortid","generate","data","id","iw_id","addToQueue","dataObj","length","sort","a","b","Number","iw_index","index","imageUrl","iw_fullImg","undefined","fileName","dataString","method","log","content","ConfirmationPopup","modifiedArrayOfDataObjects","map","startsWith","sendImage","Object","keys","fromDate","getDateConventionalString","Date","getTime","tillDate","sendJSON","Buffer","from","toString","widgetDataObj","storageKey","arrayOfWidgetsDataObjects","arrayOfIDsAndPositions","widgetItem","obj","pos","document","getElementById","getBoundingClientRect","x","arrayOfOrderedComponents","reactComponent","sortedArrayOfWidgetsDataObjects","widgetID","updatedArray","filter","conditionalBlock","variant","className","onClick","handlePublish","bind","getTranslation","handleRevert","component","gutterBottom","handleOrderToggle","addWidget","getMockWidgetDataObj","Component","getValueByNs","defaultValue","setValueByNs","value","slice","Alert","elevation","styles","title","color","description","marginTop","marginBottom","button","borderRadius","backgroundColor","errorPrompt","position","top","left","zIndex","audienceInputContainer","minWidth","useStyles","makeStyles","bottomSpacing","WidgetItem","classes","initialData","React","useState","widgetData","setWidgetData","defaultLanguage","createArrayOfInputs","arr","maxNumberOfCharacters","includes","langName","Grid","container","spacing","alignItems","item","TextField","inputProps","maxLength","handleCtrlEnter","e","keyCode","ctrlKey","handleEditSubmit","openEditModal","setOpenEditModal","handleCloseEditModal","removeEventListener","openCopyModal","setOpenCopyModal","handleCloseCopyModal","audience","setAudience","targetEnv","setTargetEnv","selectedFromDate","setSelectedFromDate","selectedTillDate","setSelectedTillDate","toBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","files","newData","assign","updateLocalStorage","newDataObj","restItems","errorSnackbar","setErrorSnackbar","hideErrorSnackbar","errorMsg","invalidInputsArray","Array","querySelectorAll","el","trim","type","checkAndSubmit","isAllowedImageExtension","isAllowedImageSize","classList","contains","getAttribute","val","updateImg","imageInputElement","endsWith","img","Image","src","URL","createObjectURL","width","height","axis","handle","defaultPosition","y","grid","scale","onStop","get","reorder","Box","Paper","style","backgroundImage","Typography","Button","size","target","href","addEventListener","Modal","open","onClose","autoComplete","justify","inputEl","add","label","FormControl","Select","onChange","event","MenuItem","utils","DateFnsUtils","disableToolbar","format","margin","date","KeyboardButtonProps","removeWidget","startIcon","Snackbar","autoHideDuration","severity","milliseconds","ms","dt","UTC","getFullYear","getMonth","getDate","getUTCDate","toISOString","tagData","queue","interval","timer","shift","opt","callback","clb","sendTag","clearInterval","sendRequest","start","mockWidgetDataObj","lang","translations","login_heading","login_user_name","login_token","login_instructions_link","repos_heading","repos_btn","carousel_heading","carousel_main_controls_btn_reorder","carousel_main_controls_btn_add","carousel_main_controls_btn_publish","carousel_main_controls_btn_revert","widget_controls_btn_copy","widget_controls_btn_edit","keyword","LoginDialog","Dialog","aria-labelledby","DialogTitle","DialogContent","autoFocus","fullWidth","DialogActions","arrayOfRepos","repoObj","setScreen","location","Link","ReposDialog","arrayOfAllRepos","setValue","RadioList","arrOfRepos","FormControlLabel","control","Radio","RadioGroup","aria-label","currentRepoObj","Widgets","UI","currentScreen","String","URLSearchParams","search","screen","newScreenName","App","Boolean","hostname","match","ReactDOM","render","navigator","serviceWorker","ready","then","registration","unregister","text","customUI","aria-describedby","childrenElement","closeOnEscape","closeOnClickOutside","willUnmount","afterClose","onClickOutside","onKeypressEscape","confirmAlert"],"mappings":"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","file":"static/js/main.e43c5287.chunk.js","sourcesContent":["export const countriesAndLanguages = {\r\n  AT: ['de'],\r\n  BY: ['be', 'ru'],\r\n  CH: ['de', 'en', 'fr', 'it'],\r\n  GB: ['en'],\r\n  IE: ['en'],\r\n  NL: ['nl'],\r\n  UK: ['en']\r\n};\r\n","import { getCurrentCountry } from './getCurrentCountry';\r\nimport { countriesAndLanguages } from './../Data/countriesAndLanguages';\r\n\r\n\r\nexport const getLanguagesForCurrentCountry = () => {\r\n  return countriesAndLanguages[getCurrentCountry().toUpperCase()];\r\n}\r\n","import React, {Component} from 'react';\r\nimport './index.css';\r\nimport request from 'request';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport Box from '@material-ui/core/Box';\r\nimport getTranslation from './../../Utils/getTranslation';\r\nimport WidgetItem from './../WidgetItem';\r\nimport shortid from 'shortid';\r\nimport Requester from './../../Utils/Requester';\r\nimport { getDateConventionalString } from './../../Utils/getDateConventionalString';\r\nimport { getMockWidgetDataObj } from './../../Data/mockWidgetDataObj';\r\nimport { getCurrentCountry } from './../../Utils/getCurrentCountry';\r\nimport { ConfirmationPopup } from './../ConfirmationPopup';\r\nconst beautify = require('json-beautify');\r\n\r\n\r\nclass Carousel extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {arrayOfItems: [], isSortable: false, isChanged: false};\r\n    this.creds = localStorage.getItem('instant-widgets-creds');\r\n    this.user = this.creds.split(':')[0];\r\n    this.token = this.creds.split(':')[1];\r\n    this.repoName = JSON.parse(localStorage.getItem('instant-widgets-current-repo'))[0].name;\r\n    this.sha = '';\r\n    this.requester = new Requester({\r\n      env: props.env,\r\n      user: this.user,\r\n      token: this.token,\r\n      repoName: this.repoName\r\n    });\r\n\r\n    if (!window.carousels) {\r\n      window.carousels = new Map();\r\n    }\r\n    window.carousels.set(props.env.toLowerCase(), this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    const that = this;\r\n    const options = {\r\n      url: `https://api.github.com/repos/LibertyGlobal/${this.repoName}/contents/${this.props.env.toUpperCase()}.json`,\r\n      auth: {\r\n        'user': this.user,\r\n        'pass': this.token\r\n      }\r\n    };\r\n    \r\n    function callback(error, response, body) {\r\n      if (!error && response.statusCode === 200) {\r\n        const responseBody = JSON.parse(body);\r\n        const path = responseBody.download_url;\r\n        that.sha = responseBody.sha;\r\n        fetchDataForItems(path);\r\n      } else {\r\n        console.error('ERROR');\r\n      }\r\n    }\r\n    \r\n    request(options, callback);\r\n\r\n    const fetchDataForItems = (pathToData) => {\r\n      const options = {\r\n        url: pathToData\r\n      };\r\n      \r\n      function callback(error, response, body) {\r\n        if (!error && response.statusCode === 200) {\r\n          const arrayOfItemsData = JSON.parse(body);\r\n          that.drawItems(arrayOfItemsData);\r\n        } else {\r\n          console.error('ERROR');\r\n        }\r\n      }\r\n      \r\n      request(options, callback);\r\n    }\r\n\r\n    window.setInterval(() => {\r\n      const oldVal = localStorage.getItem('instant-widgets-storage-' + getCurrentCountry() + '-' + that.props.env + '-old');\r\n      const newVal = localStorage.getItem('instant-widgets-storage-' + getCurrentCountry() + '-' + that.props.env + '-new');\r\n      const areChangesMade = oldVal !== newVal;\r\n      this.setState({\r\n        arrayOfItems: this.state.arrayOfItems,\r\n        isSortable: this.state.isSortable,\r\n        isChanged: areChangesMade\r\n      });\r\n    }, 1000);\r\n  }\r\n\r\n  drawItems(arrayOfItemsData, isOldStorageNotToBeFilled = false) {\r\n    const arrayOfWidgetComponents = [];\r\n    let arrayOfDataObjects = [];\r\n    const that = this;\r\n\r\n    const saveAndRender = () => {\r\n      localStorage.setItem('instant-widgets-storage-' + getCurrentCountry() + '-' + that.props.env + '-new', JSON.stringify(arrayOfDataObjects));\r\n      if (!isOldStorageNotToBeFilled) {\r\n        localStorage.setItem('instant-widgets-storage-' + getCurrentCountry() + '-' + that.props.env + '-old', JSON.stringify(arrayOfDataObjects));\r\n      }\r\n      arrayOfDataObjects.forEach(itemDataObj => {\r\n        arrayOfWidgetComponents.push(<WidgetItem key={shortid.generate()} data={itemDataObj} env={that.props.env} id={itemDataObj.iw_id}/>);\r\n      });\r\n      that.setState({\r\n        arrayOfItems: arrayOfWidgetComponents,\r\n        isSortable: that.state.isSortable,\r\n        isChanged: that.state.isChanged\r\n      });\r\n    };\r\n\r\n    const addToQueue = (dataObj) => {\r\n      arrayOfDataObjects.push(dataObj);\r\n      if (arrayOfDataObjects.length === arrayOfItemsData.length) {\r\n        //Sort Widgets by iw_index in ascending order\r\n        arrayOfDataObjects = arrayOfDataObjects.sort((a, b) => (Number(a.iw_index) > Number(b.iw_index)) ? 1 : ((Number(b.iw_index) > Number(a.iw_index)) ? -1 : 0));\r\n        saveAndRender();\r\n      }\r\n    }\r\n\r\n    if (!arrayOfItemsData.length) {\r\n      //Render empty carousel\r\n      saveAndRender();\r\n    }\r\n\r\n    arrayOfItemsData.forEach((itemDataObj, index) => {\r\n      itemDataObj.iw_id = shortid.generate();\r\n\r\n      if (!itemDataObj.iw_index) {\r\n        itemDataObj.iw_index = index;\r\n      }\r\n\r\n      if (!itemDataObj.imageUrl) {\r\n        itemDataObj.iw_fullImg = '';\r\n      }\r\n\r\n      if (itemDataObj.imageUrl && itemDataObj.iw_fullImg === undefined) {\r\n        const options = {\r\n          url: `https://api.github.com/repos/LibertyGlobal/${this.repoName}/contents/images/${this.props.env.toUpperCase()}/${itemDataObj.imageUrl}`,\r\n          auth: {\r\n            'user': this.user,\r\n            'pass': this.token\r\n          }\r\n        };\r\n        \r\n        function callback(error, response, body) {\r\n          if (!error && response.statusCode === 200) {\r\n            const path = JSON.parse(body).download_url;\r\n            itemDataObj.iw_fullImg = path;\r\n            addToQueue(itemDataObj);\r\n          } else {\r\n            console.error('ERROR');\r\n            itemDataObj.iw_fullImg = '';\r\n            addToQueue(itemDataObj);\r\n          }\r\n        }\r\n        \r\n        request(options, callback);\r\n      } else {\r\n        addToQueue(itemDataObj);\r\n      }\r\n    });\r\n  }\r\n\r\n  sendImage(fileName, data) {\r\n    const dataString = '{\"message\": \"Upload image\", \"content\": \"' + data + '\" }';\r\n    const options = {\r\n      url: `https://api.github.com/repos/LibertyGlobal/${this.repoName}/contents/images/${this.props.env.toUpperCase()}/${fileName}`,\r\n      method: 'PUT',\r\n      body: dataString,\r\n      auth: {\r\n        'user': this.user,\r\n        'pass': this.token\r\n      }\r\n    };\r\n\r\n    function callback(error, response, body) {\r\n      console.log(JSON.parse(body));\r\n      if (!error && response.statusCode === 200) {\r\n        console.log(JSON.parse(body));\r\n      }\r\n    }\r\n\r\n    this.requester.addToQueue(options, callback);\r\n  }\r\n\r\n  sendJSON(data) {\r\n    const dataString = '{\"message\": \"Update JSON\", \"content\": \"' + data + '\", \"sha\": \"' + this.sha + '\" }';\r\n    const options = {\r\n      url: `https://api.github.com/repos/LibertyGlobal/${this.repoName}/contents/${this.props.env.toUpperCase()}.json`,\r\n      method: 'PUT',\r\n      body: dataString,\r\n      auth: {\r\n        'user': this.user,\r\n        'pass': this.token\r\n      }\r\n    };\r\n\r\n    const that = this;\r\n    function callback(error, response, body) {\r\n      console.log(JSON.parse(body));\r\n      if (!error && response.statusCode === 200) {\r\n        that.sha = JSON.parse(body).content.sha;\r\n      }\r\n    }\r\n    \r\n    this.requester.addToQueue(options, callback);\r\n  }\r\n\r\n  handleRevert() {\r\n    const revert = () => {\r\n      this.drawItems(JSON.parse(localStorage.getItem('instant-widgets-storage-' + getCurrentCountry() + '-' + this.props.env + '-old')));\r\n    }\r\n\r\n    ConfirmationPopup('Are you sure to revert all changes?', revert);\r\n  }\r\n\r\n  handlePublish() {\r\n    const publish = () => {\r\n      const arrayOfDataObjects = JSON.parse(localStorage.getItem('instant-widgets-storage-' + getCurrentCountry() + '-' + this.props.env + '-new'));\r\n      localStorage.setItem('instant-widgets-storage-' + getCurrentCountry() + '-' + this.props.env + '-old', JSON.stringify(arrayOfDataObjects));\r\n  \r\n      const modifiedArrayOfDataObjects = arrayOfDataObjects.map(dataObj => {\r\n        if (dataObj.iw_fullImg.startsWith('data:image')) {\r\n          this.sendImage(dataObj.imageUrl, dataObj.iw_fullImg.split('data:image/png;base64,')[1]);\r\n        }\r\n        \r\n        Object.keys(dataObj).forEach(key => {\r\n          if (key.startsWith('iw_')) {\r\n            delete dataObj[key];\r\n          }\r\n        });\r\n  \r\n        //Convert dates to conventional string\r\n        dataObj.fromDate = getDateConventionalString(new Date(dataObj.fromDate).getTime());\r\n        dataObj.tillDate = getDateConventionalString(new Date(dataObj.tillDate).getTime());\r\n  \r\n        return dataObj;\r\n      });\r\n  \r\n      this.sendJSON(Buffer.from(beautify(modifiedArrayOfDataObjects, null, 2), 'ascii').toString('base64'));\r\n    }\r\n\r\n    ConfirmationPopup('Are you sure to publish?', publish);\r\n  }\r\n\r\n  addWidget(widgetDataObj) {\r\n    const storageKey = 'instant-widgets-storage-' + getCurrentCountry() + '-' + this.props.env + '-new';\r\n    const arrayOfWidgetsDataObjects = JSON.parse(localStorage.getItem(storageKey));\r\n    widgetDataObj.iw_index = arrayOfWidgetsDataObjects.length;\r\n    arrayOfWidgetsDataObjects.push(widgetDataObj);\r\n    localStorage.setItem(storageKey, JSON.stringify(arrayOfWidgetsDataObjects));\r\n    this.drawItems(arrayOfWidgetsDataObjects, true);\r\n  }\r\n\r\n  reorder() {\r\n    const arrayOfIDsAndPositions = [];\r\n    this.state.arrayOfItems.forEach(widgetItem => {\r\n      const obj = {};\r\n      obj.id = widgetItem.props.id;\r\n      obj.pos = document.getElementById(`widget_${obj.id}`).getBoundingClientRect().x;\r\n      arrayOfIDsAndPositions.push(obj);\r\n    });\r\n    arrayOfIDsAndPositions.sort((a,b) => {return a.pos - b.pos});\r\n    const arrayOfOrderedComponents = [];\r\n    arrayOfIDsAndPositions.forEach((obj, index) => {\r\n      this.state.arrayOfItems.forEach(reactComponent => {\r\n        if (obj.id === reactComponent.props.id) {\r\n          const widgetDataObj = reactComponent.props.data;\r\n          widgetDataObj.iw_index = index;\r\n          arrayOfOrderedComponents.push(<WidgetItem key={shortid.generate()} data={widgetDataObj} env={this.props.env} id={widgetDataObj.iw_id}/>);\r\n        }\r\n      });\r\n    });\r\n    this.setState({\r\n      arrayOfItems: arrayOfOrderedComponents,\r\n      isSortable: this.state.isSortable,\r\n      isChanged: this.state.isChanged\r\n    });\r\n\r\n    const storageKey = 'instant-widgets-storage-' + getCurrentCountry() + '-' + this.props.env + '-new';\r\n    const arrayOfWidgetsDataObjects = JSON.parse(localStorage.getItem(storageKey));\r\n    const sortedArrayOfWidgetsDataObjects = [];\r\n    arrayOfIDsAndPositions.forEach(obj => {\r\n      arrayOfWidgetsDataObjects.forEach(widgetDataObj => {\r\n        if (obj.id === widgetDataObj.iw_id) {\r\n          sortedArrayOfWidgetsDataObjects.push(widgetDataObj);\r\n        }\r\n      });\r\n    });\r\n    localStorage.setItem(storageKey, JSON.stringify(sortedArrayOfWidgetsDataObjects));\r\n  }\r\n\r\n  handleOrderToggle() {\r\n    this.setState({\r\n      arrayOfItems: this.state.arrayOfItems,\r\n      isSortable: !this.state.isSortable,\r\n      isChanged: this.state.isChanged\r\n    });\r\n  }\r\n\r\n  removeWidget(widgetID) {\r\n    const storageKey = 'instant-widgets-storage-' + getCurrentCountry() + '-' + this.props.env + '-new';\r\n    const arrayOfWidgetsDataObjects = JSON.parse(localStorage.getItem(storageKey));\r\n    const updatedArray = arrayOfWidgetsDataObjects.filter((obj) => {\r\n      return obj.iw_id !== widgetID;\r\n    });\r\n    localStorage.setItem(storageKey, JSON.stringify(updatedArray));\r\n    this.drawItems(updatedArray, true);\r\n  }\r\n\r\n  render() {\r\n    const conditionalBlock = <Box>\r\n      <Button variant=\"contained\" className='btn btn-success' onClick={this.handlePublish.bind(this)}>\r\n        {getTranslation('carousel_main_controls_btn_publish')}\r\n      </Button>\r\n      <Button variant=\"contained\" className='btn btn-alert' onClick={this.handleRevert.bind(this)}>\r\n        {getTranslation('carousel_main_controls_btn_revert')}\r\n      </Button>\r\n    </Box>\r\n\r\n    return (\r\n      <div className={`carousel-container ${this.state.isSortable ? 'sortable js-sortable' : ''}`}>\r\n        <div className=\"carousel-main-controls-container\">\r\n          <Typography variant=\"h5\" component=\"h2\" gutterBottom>\r\n            {`${this.props.env.toUpperCase()} ${getTranslation('carousel_heading')}`} \r\n          </Typography>\r\n          <Button variant=\"contained\" className={`btn btn-neutral ${this.state.isSortable ? 'toggled' : ''}`} onClick={this.handleOrderToggle.bind(this)}>\r\n            {getTranslation('carousel_main_controls_btn_reorder')}\r\n          </Button>\r\n          <Button variant=\"contained\" className='btn btn-neutral' onClick={this.addWidget.bind(this, getMockWidgetDataObj())}>\r\n            {getTranslation('carousel_main_controls_btn_add')}\r\n          </Button>\r\n          {\r\n            this.state.isChanged ? conditionalBlock : ''\r\n          }\r\n        </div>\r\n        <div className=\"carousel-items-container\">\r\n          {this.state.arrayOfItems}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Carousel;\r\n","/**\r\n * @function getValueByNs\r\n * @param {*} obj\r\n * @param {string} path\r\n * @param {*} defaultValue\r\n * @return {*}\r\n * @description return value from object by string path or default value\r\n * Examples:\r\n *  obj = [1,2,3]; getValueByNs(obj, 'length', 0) will return 3\r\n *  obj = {0: 'a', 1: 'b', 2: 'c'}; getValueByNs(obj, 'length') will return ''\r\n *  obj = {0: 'a', 1: 'b', 2: 'c'}; getValueByNs(obj, 'length', 0) will return 0\r\n *  obj = {0: 'a', 1: 'b', 2: 'c'}; getValueByNs(obj, '1') will return 'b'\r\n *  obj = {0: 'a', 'x': {'a':5}, 2: 'c'}; getValueByNs(obj, 'x.a', 0) will return 5\r\n */\r\nconst getValueByNs = (obj, path, defaultValue = '') => {\r\n  const keys = path.split('.');\r\n  keys.forEach(key => {\r\n    if (obj) {\r\n      obj = obj[key];\r\n    }\r\n  });\r\n\r\n  return obj || defaultValue;\r\n}\r\n\r\nexport default getValueByNs;\r\n","/**\r\n * @function setValueByNs\r\n * @param {*} obj\r\n * @param {string} path\r\n * @param {*} value\r\n * @return {*}\r\n * @description https://stackoverflow.com/questions/6393943/convert-javascript-string-in-dot-notation-into-an-object-reference\r\n * Example:\r\n *  setValueByNs(obj, 'a.b.etc', 123) //returns 123 and assigns obj.a.b.etc to 123\r\n */\r\nconst setValueByNs = (obj, path, value) => {\r\n  if (typeof path == 'string')\r\n    return setValueByNs(obj, path.split('.'), value);\r\n  else if (path.length === 1 && value !== undefined)\r\n    return obj[path[0]] = value;\r\n  else if (path.length === 0)\r\n    return obj;\r\n  else\r\n    return setValueByNs(obj[path[0]], path.slice(1), value);\r\n}\r\n\r\nexport default setValueByNs;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport './index.css';\r\nimport getTranslation from './../../Utils/getTranslation';\r\nimport { getLanguagesForCurrentCountry } from './../../Utils/getLanguagesForCurrentCountry';\r\nimport getValueByNs from './../../Utils/getValueByNs';\r\nimport setValueByNs from './../../Utils/setValueByNs';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {\r\n  MuiPickersUtilsProvider,\r\n  KeyboardDatePicker,\r\n} from '@material-ui/pickers';\r\nimport { format } from 'date-fns';\r\nimport shortid from 'shortid';\r\nimport Snackbar from '@material-ui/core/Snackbar';\r\nimport MuiAlert from '@material-ui/lab/Alert';\r\nimport Draggable from 'react-draggable';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Box from '@material-ui/core/Box';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { getCurrentCountry } from './../../Utils/getCurrentCountry';\r\nimport { ConfirmationPopup } from './../ConfirmationPopup';\r\n\r\n\r\nfunction Alert(props) {\r\n  return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\r\n}\r\n\r\nconst styles = {\r\n  title: {\r\n    color: 'white'\r\n  },\r\n  description: {\r\n    marginTop: '15px',\r\n    marginBottom: '15px',\r\n    color: 'white'\r\n  },\r\n  button: {\r\n    borderRadius: '20px',\r\n    backgroundColor: 'white',\r\n    color: 'black'\r\n  },\r\n  errorPrompt: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    zIndex: 1301\r\n  },\r\n  audienceInputContainer: {\r\n    minWidth: '160px',\r\n  },\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  bottomSpacing: {\r\n    marginBottom: '30px',\r\n  },\r\n});\r\n\r\nexport default function WidgetItem(props) {\r\n  const classes = useStyles(props);\r\n\r\n  const initialData = props.data;\r\n  const [widgetData, setWidgetData] = React.useState(initialData);\r\n  const defaultLanguage = getLanguagesForCurrentCountry()[0];\r\n\r\n  const createArrayOfInputs = path => {\r\n    const arr = [];\r\n    const key = path.split('.')[0];\r\n    const obj = getValueByNs(widgetData, path);\r\n    const maxNumberOfCharacters = path.includes('description') ? 120 : 22;\r\n    Object.keys(obj).forEach(langName => {\r\n      arr.push(\r\n        <Grid container spacing={1} alignItems=\"flex-end\" key={key + '-key-' + langName}>\r\n          <Grid item>\r\n            {langName.toUpperCase()}\r\n          </Grid>\r\n          <Grid item>\r\n            <TextField\r\n              id={key + '-field-' + langName}\r\n              defaultValue={obj[langName]}\r\n              inputProps={{\r\n                'data-path': path + '.' + langName,\r\n                maxLength: maxNumberOfCharacters\r\n              }}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      );\r\n    });\r\n\r\n    return arr;\r\n  }\r\n\r\n  const handleCtrlEnter = (e) => {\r\n    if (e.keyCode===13 && e.ctrlKey) {\r\n      handleEditSubmit();\r\n    }\r\n  }\r\n\r\n  const [openEditModal, setOpenEditModal] = React.useState(false);\r\n  const handleOpenEditModal = () => {\r\n    setOpenEditModal(true);\r\n    document.addEventListener('keydown', handleCtrlEnter);\r\n  };\r\n  const handleCloseEditModal = () => {\r\n    setOpenEditModal(false);\r\n    document.removeEventListener('keydown', handleCtrlEnter);\r\n  };\r\n\r\n  const [openCopyModal, setOpenCopyModal] = React.useState(false);\r\n  const handleOpenCopyModal = () => {\r\n    setOpenCopyModal(true);\r\n  };\r\n  const handleCloseCopyModal = () => {\r\n    setOpenCopyModal(false);\r\n  };\r\n\r\n  const [audience, setAudience] = React.useState(widgetData.audience);\r\n  const handleAudienceChange = (event) => {\r\n    setAudience(event.target.value);\r\n  };\r\n\r\n  const [targetEnv, setTargetEnv] = React.useState(props.env.toUpperCase());\r\n  const handleTargetEnvChange = (event) => {\r\n    setTargetEnv(event.target.value);\r\n  };\r\n\r\n  const [selectedFromDate, setSelectedFromDate] = React.useState(new Date(widgetData.fromDate));\r\n  const handleFromDateChange = (date) => {\r\n    setSelectedFromDate(date);\r\n  };\r\n  const [selectedTillDate, setSelectedTillDate] = React.useState(new Date(widgetData.tillDate));\r\n  const handleTillDateChange = (date) => {\r\n    setSelectedTillDate(date);\r\n  };\r\n\r\n  const toBase64 = file => new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n    reader.onload = () => resolve(reader.result);\r\n    reader.onerror = error => reject(error);\r\n  });\r\n\r\n  async function updateImg() {\r\n    const file = document.getElementById('image-input').files[0];\r\n    if (file) {\r\n      const newData = Object.assign({}, widgetData);\r\n      newData.iw_fullImg = await toBase64(file);\r\n      newData.imageUrl = shortid.generate() + '.png';\r\n      setWidgetData(newData);\r\n      updateLocalStorage(newData);\r\n    }\r\n  }\r\n\r\n  const updateLocalStorage = newDataObj => {\r\n    const allItems = JSON.parse(localStorage.getItem('instant-widgets-storage-' + getCurrentCountry() + '-' + props.env + '-new'));\r\n    const restItems = allItems.filter(obj => {\r\n      return obj.iw_id !== newDataObj.iw_id;\r\n    });\r\n    localStorage.setItem('instant-widgets-storage-' + getCurrentCountry() + '-' + props.env + '-new', JSON.stringify([newDataObj, ...restItems]));\r\n  }\r\n\r\n  const [errorSnackbar, setErrorSnackbar] = React.useState('');\r\n  const showErrorSnackbar = (msg) => {\r\n    setErrorSnackbar(msg);\r\n  };\r\n  const hideErrorSnackbar = () => {\r\n    setErrorSnackbar('');\r\n  }\r\n\r\n  const handleEditSubmit = () => {\r\n    let errorMsg = '';\r\n\r\n    const allInputsArray = Array.from(document.querySelectorAll('input'));\r\n    const invalidInputsArray = allInputsArray.filter(el => {\r\n      return !el.value.trim().length && el.type !== 'file';\r\n    });\r\n\r\n    const checkAndSubmit = () => {\r\n      if (invalidInputsArray.length) {\r\n        errorMsg = 'All fields must be filled.';\r\n      } else if (!isAllowedImageExtension) {\r\n        errorMsg = 'Image should be in PNG format.';\r\n      } else if (!isAllowedImageSize) {\r\n        errorMsg = 'Allowed image dimensions: Minimum size: 750 x 784, Maximum size: 1500 x 1568.';\r\n      }\r\n  \r\n      if (!errorMsg) {\r\n        const newData = Object.assign({}, widgetData);\r\n        if (document.getElementById('image-input').classList.contains('js-image-removed')) {\r\n          newData.imageUrl = '';\r\n          newData.iw_fullImg = '';\r\n        }\r\n        document.querySelectorAll('[data-path]').forEach(el => {\r\n          const path = el.getAttribute('data-path');\r\n          const val = el.value;\r\n          setValueByNs(newData, path, val);\r\n        });\r\n        setWidgetData(newData);\r\n        updateImg();\r\n        updateLocalStorage(newData);\r\n        handleCloseEditModal();\r\n      } else {\r\n        showErrorSnackbar(errorMsg);\r\n      }\r\n    }\r\n\r\n    const imageInputElement = document.getElementById('image-input');\r\n    let isAllowedImageExtension = true;\r\n    let isAllowedImageSize = true;\r\n    if (imageInputElement.value) {\r\n      isAllowedImageExtension = imageInputElement.value.endsWith('.png');\r\n\r\n      const img = new Image();\r\n      img.src = window.URL.createObjectURL(imageInputElement.files[0]);\r\n      img.onload = () => {\r\n        const minWidth = 750;\r\n        const minHeight = 784;\r\n        const maxWidth = 1500;\r\n        const maxHeight = 1568;\r\n        if (img.width < minWidth || img.width > maxWidth || img.height < minHeight || img.height > maxHeight) {\r\n          isAllowedImageSize = false;\r\n        }\r\n        checkAndSubmit();\r\n      }\r\n    } else {\r\n      checkAndSubmit();\r\n    }\r\n  }\r\n\r\n  const handleCopySubmit = () => {\r\n    window.carousels.get(targetEnv.toLowerCase()).addWidget(widgetData);\r\n    handleCloseCopyModal();\r\n  }\r\n\r\n  const handleDragStop = () => {\r\n    window.carousels.get(targetEnv.toLowerCase()).reorder();\r\n  }\r\n\r\n  const handleRemoveImage = () => {\r\n    const removeImage = () => {\r\n      const inputEl = document.getElementById('image-input');\r\n      inputEl.value = '';\r\n      inputEl.classList.add('js-image-removed');\r\n    }\r\n\r\n    ConfirmationPopup('Are you sure to remove the image?', removeImage);\r\n  }\r\n\r\n  const handleRemoveWidget = () => {\r\n    const removeWidget = () => {\r\n      window.carousels.get(targetEnv.toLowerCase()).removeWidget(widgetData.iw_id);\r\n      handleCloseEditModal();\r\n    }\r\n\r\n    ConfirmationPopup('Are you sure to delete this Widget?', removeWidget);\r\n  }\r\n\r\n  return (\r\n    <Draggable\r\n      axis=\"x\"\r\n      handle=\".js-sortable .js-widget-item-container\"\r\n      defaultPosition={{x: 0, y: 0}}\r\n      position={{x: 0, y: 0}}\r\n      grid={[25, 25]}\r\n      scale={1}\r\n      onStop={handleDragStop}>\r\n      <Box className=\"widget-item-wrapper\">\r\n        <Paper elevation={3} style={{backgroundImage: `url('${widgetData.iw_fullImg ? widgetData.iw_fullImg : '' }')`}} className=\"widget-item-container js-widget-item-container\" id={'widget_' + props.id}>\r\n          <Typography gutterBottom variant=\"h5\" component=\"h2\" style={styles.title}>\r\n            {widgetData.title[defaultLanguage]}\r\n          </Typography>\r\n          <Typography gutterBottom variant=\"body2\" component=\"p\" style={styles.description}>\r\n            {widgetData.description[defaultLanguage]}\r\n          </Typography>\r\n          <Button size=\"small\" color=\"primary\" variant=\"contained\" target=\"_blank\" href={widgetData.button.url} style={styles.button}>\r\n            {widgetData.button.title[defaultLanguage]}\r\n          </Button>\r\n          <Button onClick={handleOpenCopyModal} size=\"small\" color=\"default\" variant=\"contained\" className=\"widget-item-controls-btn widget-item-copy-btn\">\r\n            {getTranslation('widget_controls_btn_copy')}\r\n          </Button>\r\n          <Button onClick={handleOpenEditModal} size=\"small\" color=\"default\" variant=\"contained\" className=\"widget-item-controls-btn widget-item-edit-btn\">\r\n            {getTranslation('widget_controls_btn_edit')}\r\n          </Button>\r\n          <Modal\r\n            open={openEditModal}\r\n            onClose={handleCloseEditModal}\r\n            className=\"modal-handler\"\r\n          >\r\n            <div className=\"modal-container\">\r\n              <form autoComplete=\"off\">\r\n                <Grid container\r\n                  spacing={1}\r\n                  alignItems=\"flex-end\"\r\n                  justify=\"space-around\"\r\n                  className={`${classes.bottomSpacing}`}\r\n                  >\r\n                  <Grid item>\r\n                    <Typography variant=\"h5\" component=\"h2\" className=\"block-title\">\r\n                      Title\r\n                    </Typography>\r\n                    {createArrayOfInputs('title')}\r\n                  </Grid>\r\n                  <Grid item>\r\n                    <Typography variant=\"h5\" component=\"h2\" className=\"block-title\">\r\n                      Description\r\n                    </Typography>\r\n                    {createArrayOfInputs('description')}\r\n                  </Grid>\r\n                </Grid>\r\n                <Grid container\r\n                  spacing={1}\r\n                  alignItems=\"flex-end\"\r\n                  justify=\"space-around\"\r\n                  >\r\n                  <Grid item>\r\n                    <Typography variant=\"h5\" component=\"h2\" className=\"block-title\">\r\n                      Image\r\n                    </Typography>\r\n                  </Grid>\r\n                </Grid>\r\n                <Grid container\r\n                  spacing={1}\r\n                  alignItems=\"flex-end\"\r\n                  justify=\"space-around\"\r\n                  className={`${classes.bottomSpacing}`}\r\n                  >\r\n                  <Grid item>\r\n                    <input type=\"file\" id=\"image-input\" className=\"input-file\"></input>\r\n                  </Grid>\r\n                  <Grid item>\r\n                    <Button variant=\"contained\" color=\"default\" component=\"span\" onClick={handleRemoveImage}>\r\n                      Remove image\r\n                    </Button>\r\n                  </Grid>\r\n                </Grid>\r\n                <Grid container\r\n                  spacing={1}\r\n                  alignItems=\"flex-start\"\r\n                  justify=\"space-around\"\r\n                  className={`${classes.bottomSpacing}`}\r\n                  >\r\n                  <Grid item>\r\n                    <Typography variant=\"h5\" component=\"h2\">\r\n                      More Button\r\n                    </Typography>\r\n                    <TextField id=\"btn-link-field\" label=\"Link for button\" defaultValue={widgetData.button.url} inputProps={{'data-path': 'button.url'}}/>\r\n                  </Grid>\r\n                  <Grid item>\r\n                    {createArrayOfInputs('button.title')}\r\n                  </Grid>\r\n                </Grid>\r\n                <Grid container\r\n                  spacing={1}\r\n                  alignItems=\"flex-end\"\r\n                  justify=\"space-around\"\r\n                  className={`${classes.bottomSpacing}`}\r\n                  >\r\n                  <Grid item>\r\n                    <Typography variant=\"h5\" component=\"h2\" className=\"block-title\">\r\n                      Audience\r\n                    </Typography>\r\n                  </Grid>\r\n                  <Grid item>\r\n                    <FormControl style={styles.audienceInputContainer}>\r\n                      <Select\r\n                        id=\"audience-select\"\r\n                        value={audience}\r\n                        onChange={handleAudienceChange}\r\n                        inputProps={{'data-path': 'audience'}}\r\n                        >\r\n                        <MenuItem value='MOBILE'>MOBILE</MenuItem>\r\n                        <MenuItem value='BROADBAND'>BROADBAND</MenuItem>\r\n                        <MenuItem value='ALL'>ALL</MenuItem>\r\n                      </Select>\r\n                    </FormControl>\r\n                  </Grid>\r\n                </Grid>\r\n                <Grid container\r\n                  spacing={1}\r\n                  alignItems=\"flex-end\"\r\n                  justify=\"space-around\"\r\n                  >\r\n                  <Grid item>\r\n                    <Typography variant=\"h5\" component=\"h2\" className=\"block-title\">\r\n                      Availability\r\n                    </Typography>\r\n                  </Grid>\r\n                </Grid>\r\n                <Grid container\r\n                  spacing={1}\r\n                  alignItems=\"flex-end\"\r\n                  justify=\"space-around\"\r\n                  className={`${classes.bottomSpacing}`}\r\n                  >\r\n                  <Grid item>\r\n                    <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                      <KeyboardDatePicker\r\n                        disableToolbar\r\n                        variant=\"inline\"\r\n                        format=\"MM/dd/yyyy\"\r\n                        margin=\"normal\"\r\n                        id=\"date-picker-from\"\r\n                        label=\"From (mm/dd/yyyy)\"\r\n                        value={selectedFromDate}\r\n                        onChange={handleFromDateChange}\r\n                        KeyboardButtonProps={{\r\n                          'aria-label': 'change date',\r\n                        }}\r\n                        inputProps={{'data-path': 'fromDate'}}\r\n                      />\r\n                    </MuiPickersUtilsProvider>\r\n                  </Grid>\r\n                  <Grid item>\r\n                    <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                      <KeyboardDatePicker\r\n                        disableToolbar\r\n                        variant=\"inline\"\r\n                        format=\"MM/dd/yyyy\"\r\n                        margin=\"normal\"\r\n                        id=\"date-picker-till\"\r\n                        label=\"Till (mm/dd/yyyy)\"\r\n                        value={selectedTillDate}\r\n                        onChange={handleTillDateChange}\r\n                        KeyboardButtonProps={{\r\n                          'aria-label': 'change date',\r\n                        }}\r\n                        inputProps={{'data-path': 'tillDate'}}\r\n                      />\r\n                    </MuiPickersUtilsProvider>\r\n                  </Grid>\r\n                </Grid>\r\n                <Grid container\r\n                  spacing={1}\r\n                  alignItems=\"flex-end\"\r\n                  justify=\"space-around\"\r\n                  >\r\n                  <Grid item>\r\n                    <Button variant=\"contained\" color=\"secondary\" component=\"span\" onClick={handleRemoveWidget} startIcon={<DeleteIcon />}>\r\n                      Remove Widget\r\n                    </Button>\r\n                  </Grid>\r\n                  <Grid item>\r\n                    <Button variant=\"contained\" color=\"default\" component=\"span\" onClick={handleCloseEditModal}>\r\n                      Cancel\r\n                    </Button>\r\n                    <Button variant=\"contained\" color=\"primary\" component=\"span\" onClick={handleEditSubmit} className=\"save-btn\">\r\n                      Save\r\n                    </Button>\r\n                  </Grid>\r\n                </Grid>\r\n              </form>\r\n              <Snackbar open={!!errorSnackbar.length} autoHideDuration={3000} onClose={hideErrorSnackbar}>\r\n                <Alert onClose={hideErrorSnackbar} severity=\"error\">\r\n                  {errorSnackbar}\r\n                </Alert>\r\n              </Snackbar>\r\n            </div>\r\n          </Modal>\r\n          <Modal\r\n            open={openCopyModal}\r\n            onClose={handleCloseCopyModal}\r\n            className=\"modal-handler\"\r\n          >\r\n            <div className=\"modal-container\">\r\n              <form autoComplete=\"off\">\r\n                <Typography variant=\"h5\" component=\"h2\" className=\"block-title\">\r\n                  Select target environment\r\n                </Typography>\r\n                <FormControl className=\"copy-env-dropdown\">\r\n                  <Select\r\n                    id=\"target-env-select\"\r\n                    value={targetEnv}\r\n                    onChange={handleTargetEnvChange}\r\n                  >\r\n                    <MenuItem value='JIT'>JIT</MenuItem>\r\n                    <MenuItem value='UAT'>UAT</MenuItem>\r\n                    <MenuItem value='PROD'>PROD</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n                <Grid container spacing={1} alignItems=\"flex-end\" className=\"copy-btns-container\">\r\n                  <Grid item>\r\n                    <Button variant=\"contained\" color=\"default\" component=\"span\" onClick={handleCloseCopyModal}>\r\n                      Cancel\r\n                    </Button>\r\n                  </Grid>\r\n                  <Grid item>\r\n                    <Button variant=\"contained\" color=\"primary\" component=\"span\" onClick={handleCopySubmit}>\r\n                      COPY WIDGET\r\n                    </Button>\r\n                  </Grid>\r\n                </Grid>\r\n              </form>\r\n            </div>\r\n          </Modal>\r\n        </Paper>\r\n        <Box className=\"widget-item-bottom-block\">\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {widgetData.audience}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n            {format(new Date(widgetData.fromDate), 'dd/MM/yyyy') + ' - ' + format(new Date(widgetData.tillDate), 'dd/MM/yyyy')}\r\n          </Typography>\r\n        </Box>\r\n      </Box>\r\n    </Draggable>\r\n  );\r\n}\r\n","//Transforms local time to Universal (without GMT)\r\nexport const getUTCDate = (date) => {\r\n  const dt = new Date(date);\r\n  return new Date(Date.UTC(dt.getFullYear(), dt.getMonth(), dt.getDate()));\r\n}\r\n","import { getUTCDate } from './getUTCDate';\r\n\r\n\r\n//Converts 1548882000000 to '2019-01-30T21:00:00'\r\nexport const getDateConventionalString = milliseconds => {\r\n  const ms = Number(milliseconds);\r\n  const dt = getUTCDate(new Date(ms));\r\n  const resultString = dt.toISOString().split('.')[0];\r\n\r\n  return resultString;\r\n}\r\n","import request from 'request';\r\n\r\n\r\n//Sends requests one by one\r\nclass Requester {\r\n  constructor(tagData) {\r\n    this.queue = [];\r\n    this.interval = 2000;\r\n    this.timer = '';\r\n    this.tagData = tagData;\r\n  }\r\n\r\n  sendTag() {\r\n    const dataString = '{\"tag_name\": \"' + this.tagData.env + '-' + new Date().getTime() + '\"}';\r\n\r\n    const options = {\r\n      url: `https://api.github.com/repos/LibertyGlobal/${this.tagData.repoName}/releases`,\r\n      method: 'POST',\r\n      body: dataString,\r\n      auth: {\r\n        'user': this.tagData.user,\r\n        'pass': this.tagData.token\r\n      }\r\n    };\r\n\r\n    function callback(error, response, body) {\r\n      if (!error && response.statusCode === 200) {\r\n        console.log(body);\r\n      } else {\r\n        console.error(error);\r\n      }\r\n    }\r\n\r\n    request(options, callback);\r\n  }\r\n\r\n  sendRequest() {\r\n    if (this.queue.length) {\r\n      const dataObj = this.queue.shift();\r\n      const options = dataObj.opt;\r\n      const callback = dataObj.clb;\r\n      request(options, callback);\r\n    } else {\r\n      this.sendTag();\r\n      clearInterval(this.timer);\r\n    }\r\n  }\r\n\r\n  start() {\r\n    if (!this.timer) {\r\n      const that = this;\r\n      this.timer = setInterval(() => {\r\n        that.sendRequest();\r\n      }, this.interval);\r\n    }\r\n  }\r\n\r\n  addToQueue(options, callback) {\r\n    const obj = {'opt': options, 'clb': callback};\r\n    this.queue.push(obj);\r\n    this.start();\r\n  }\r\n}\r\n\r\nexport default Requester;\r\n","import { getLanguagesForCurrentCountry } from './../Utils/getLanguagesForCurrentCountry';\r\n\r\n\r\nconst mockWidgetDataObj = {\r\n  \"title\": {},\r\n  \"description\": {},\r\n  \"fromDate\": \"2020-01-01T00:00:00\",\r\n  \"tillDate\": \"2021-01-01T00:00:00\",\r\n  \"audience\": \"ALL\",\r\n  \"imageUrl\": \"\",\r\n  \"button\": {\r\n    \"url\": \"https://www.libertyglobal.com/\",\r\n    \"title\": {}\r\n  }\r\n};\r\n\r\nexport const getMockWidgetDataObj = () => {\r\n  const currentLanguages = getLanguagesForCurrentCountry();\r\n\r\n  currentLanguages.forEach(lang => {\r\n    mockWidgetDataObj.title[lang] = `Title text (${lang})`;\r\n    mockWidgetDataObj.description[lang] = `Description text (${lang})`;\r\n    mockWidgetDataObj.button.title[lang] = `Button text (${lang})`;\r\n  });\r\n\r\n  return mockWidgetDataObj;\r\n};\r\n","const translations = {\r\n  'EN': {\r\n    login_heading: 'Login with your GitHub credentials',\r\n    login_user_name: 'User Name',\r\n    login_token: 'Personal Access Token',\r\n    login_instructions_link: 'Read Me',\r\n    repos_heading: 'Pick Repository',\r\n    repos_btn: 'Start Editing',\r\n    carousel_heading: 'widgets',\r\n    carousel_main_controls_btn_reorder: 'Change order',\r\n    carousel_main_controls_btn_add: 'Add widget',\r\n    carousel_main_controls_btn_publish: 'Publish',\r\n    carousel_main_controls_btn_revert: 'Revert all changes',\r\n    widget_controls_btn_copy: 'Copy',\r\n    widget_controls_btn_edit: 'Edit'\r\n  }\r\n};\r\n\r\nexport default translations;\r\n","import translations from './../Data/translations';\r\n\r\nconst getTranslation = keyword => {\r\n  const lang = 'EN';\r\n  return translations[lang][keyword];\r\n}\r\n\r\nexport default getTranslation;\r\n","//returns 'by'\r\nexport const getCurrentCountry = () => {\r\n  const currentCountry = JSON.parse(localStorage.getItem('instant-widgets-current-repo'))[0].name.split('capp-instantWidgets-')[1];\r\n  return currentCountry.toLowerCase();\r\n}\r\n","import React from 'react';\r\nimport request from 'request';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Link from '@material-ui/core/Link';\r\nimport getTranslation from './../../Utils/getTranslation';\r\n\r\n\r\nexport const LoginDialog = props => {\r\n  const handleSubmit = () => {\r\n    const options = {\r\n      url: 'https://api.github.com/user/repos?per_page=1000',\r\n      auth: {\r\n        'user': document.getElementById('name').value,\r\n        'pass': document.getElementById('pass').value\r\n      }\r\n    };\r\n    \r\n    function callback(error, response, body) {\r\n      if (!error && response.statusCode === 200) {\r\n        const arrayOfAllRepos = JSON.parse(body);\r\n        const arrayOfRepos = arrayOfAllRepos.filter(repoObj => {\r\n          return repoObj.name.startsWith('capp-instantWidgets-');\r\n        });\r\n        localStorage.setItem('instant-widgets-repos', JSON.stringify(arrayOfRepos));\r\n        localStorage.setItem('instant-widgets-creds', document.getElementById('name').value + ':' + document.getElementById('pass').value);\r\n        props.setScreen('repos');\r\n        window.location = '/?page=repos';\r\n      } else {\r\n        console.error('ERROR');\r\n      }\r\n    }\r\n    \r\n    request(options, callback);\r\n  };\r\n\r\n\r\n  return (\r\n    <div>\r\n      <Dialog open={true} aria-labelledby=\"form-dialog-title\">\r\n        <DialogTitle id=\"form-dialog-title\">{getTranslation('login_heading')}</DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"name\"\r\n            label={getTranslation('login_user_name')}\r\n            type=\"text\"\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            margin=\"dense\"\r\n            id=\"pass\"\r\n            label={getTranslation('login_token')}\r\n            type=\"password\"\r\n            fullWidth\r\n          />\r\n          <DialogActions>\r\n            <Button onClick={handleSubmit} color=\"primary\">\r\n              Login\r\n            </Button>\r\n          </DialogActions>\r\n          <Link href=\"https://google.com\">\r\n            {getTranslation('login_instructions_link')}\r\n          </Link>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Radio from '@material-ui/core/Radio';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport getTranslation from './../../Utils/getTranslation';\r\n\r\n\r\nexport const ReposDialog = props => {\r\n  const arrayOfAllRepos = JSON.parse(localStorage.getItem('instant-widgets-repos'));\r\n  const [value, setValue] = React.useState(arrayOfAllRepos[0].name);\r\n  \r\n  const handleChange = (event) => {\r\n    setValue(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    const currentRepoObj = arrayOfAllRepos.filter((repoObj => {return repoObj.name === value}));\r\n    localStorage.setItem('instant-widgets-current-repo', JSON.stringify(currentRepoObj));\r\n    props.setScreen('widgets');\r\n    window.location = '/?page=widgets';\r\n  };\r\n\r\n  const RadioList = ({arrOfRepos}) => (\r\n    <div>\r\n      {arrOfRepos.map((repoObj) => (\r\n        <div key={repoObj.id}><FormControlLabel value={repoObj.name} control={<Radio />} label={repoObj.name} /></div>\r\n      ))}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Dialog open={true} aria-labelledby=\"form-repos-dialog-title\">\r\n        <DialogTitle id=\"form-repos-dialog-title\">{getTranslation('repos_heading')}</DialogTitle>\r\n        <DialogContent>\r\n        <FormControl component=\"fieldset\">\r\n          <RadioGroup aria-label=\"repos\" name=\"repos1\" value={value} onChange={handleChange}>\r\n            <RadioList arrOfRepos={arrayOfAllRepos} />\r\n          </RadioGroup>\r\n        </FormControl>\r\n          <DialogActions>\r\n            <Button onClick={handleSubmit} color=\"primary\">\r\n              {getTranslation('repos_btn')}\r\n            </Button>\r\n          </DialogActions>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Carousel from './../Carousel';\r\n\r\n\r\nexport default function Widgets() {\r\n  return (\r\n    <div>\r\n      <Carousel env=\"PROD\" />\r\n      <Carousel env=\"UAT\" />\r\n      <Carousel env=\"JIT\" />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport './UI.css';\r\nimport { LoginDialog } from '../LoginDialog';\r\nimport { ReposDialog } from '../ReposDialog';\r\nimport Widgets from '../Widgets';\r\n\r\n\r\nfunction UI() {\r\n  const currentScreen = String(new URLSearchParams(window.location.search).get('page'));\r\n\r\n  const [screen, setScreen] = React.useState(currentScreen);\r\n\r\n  const renderScreen = name => {\r\n    if (name === 'repos') {\r\n      return <ReposDialog\r\n        setScreen={newScreenName => setScreen(newScreenName)}\r\n        />;\r\n    } else if (name === 'widgets') {\r\n      return <Widgets />\r\n    } else {\r\n      return <LoginDialog\r\n        setScreen={newScreenName => setScreen(newScreenName)}\r\n      />;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"UI\">\r\n      {renderScreen(screen)}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UI;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport UI from './Components/UI';\r\n\r\nfunction App() {\r\n  return (\r\n    <div className=\"App-Container\">\r\n      <UI />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\r\nimport { confirmAlert } from 'react-confirm-alert';\r\nimport 'react-confirm-alert/src/react-confirm-alert.css';\r\nimport './index.css';\r\nimport Box from '@material-ui/core/Box';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\n\r\nexport const ConfirmationPopup = (text, callback) => {\r\n  const UI = ({ onClose }) => {\r\n\r\n    const handleConfirm = () => {\r\n      callback();\r\n      onClose();\r\n    }\r\n\r\n    return (\r\n      <Box className=\"confirmation-popup\">\r\n        <Dialog\r\n          open={true}\r\n          onClose={onClose}\r\n          aria-labelledby=\"alert-dialog-title\"\r\n          aria-describedby=\"alert-dialog-description\"\r\n        >\r\n          <DialogTitle id=\"alert-dialog-title\">Confirmation</DialogTitle>\r\n          <DialogContent>\r\n            <DialogContentText id=\"alert-dialog-description\">\r\n              {text}\r\n            </DialogContentText>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={onClose} color=\"primary\">\r\n              Cancel\r\n            </Button>\r\n            <Button onClick={handleConfirm} color=\"primary\" autoFocus>\r\n              OK\r\n            </Button>\r\n          </DialogActions>\r\n        </Dialog>\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  const options = {\r\n    customUI: UI,\r\n    childrenElement: () => <div />,\r\n    closeOnEscape: true,\r\n    closeOnClickOutside: true,\r\n    willUnmount: () => {},\r\n    afterClose: () => {},\r\n    onClickOutside: () => {},\r\n    onKeypressEscape: () => {}\r\n  };\r\n\r\n  confirmAlert(options);\r\n}\r\n"],"sourceRoot":""}